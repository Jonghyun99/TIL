## **파일 읽기**

1. 파일 열기, 열리지 않으면 종료함.
2. 파일에서 데이터 읽기
3. 파일 닫기

### 파일 열기

```php
$fp = fopen("list.txt", 'r');
```

PHP에서 파일은 fopen() 함수를 이용하여 열 수 있다.

fopen() 함수에는 첫 번째 인수로 열 파일의 주소를 전달한다.

두 번째 인수로는 파일에 대한 접근 권한을 명시하는 파일 모드를 전달해야 한다.

### 파일모드

- r : 읽기 전용으로 열며 파일 포인터는 시작 부분에 위치 함
- w : 쓰기 전용으로 열고 존재하면 덮어쓰고 없다면 새로 생성함, 포인터는 시작 부분
- a : 쓰기 전용으로, 포인터는 끝부분
- x : 쓰기 전용, 포인터 시작 부분, 파일이 존재하면 오류 발생
- c : 쓰기 전용, 파일 존재하면 덮어쓰지 않고 오류를 발생시키지도 않음

또한 파일 모드에 't' 플래그를 추가하면, 해당 파일을 텍스트 모드로 열게된다.

'b'플래그는 바이너리 모드로 열게된다.

```php
$fp = fopen("list.txt", 'a');
```

list.txt를 쓰기 전용으로 연 후, 파일 포인터를 파일 끝 부분에 위치시키는 예제이다.

### 파일 읽기

fopen() : 함수를 이용해 파일을 연 후 데이터를 읽을 수 있다.

fclose() : 파일 닫기

데이터를 읽기 위한 여러 함수가 있다.

1. fgests() : 데이터 한 줄 씩 읽으며 파일의 끝, 줄 바꿈 문자를 만날 때 까지 읽는다.
2. fgetc() : 한 글자 씩 읽는다. (바이너리 데이터 안전하게 처리가능)
3. readfile() : 파일을 전부 읽는다.
4. feof() : 데이터를 읽으며 마지막 줄이면 true를 반환

## 파일 쓰기

1. 파일 열기, 없으면 생성
2. 파일에 데이터 쓰기
3. 파일 닫기

### 파일 열기

파일 읽기와 마찬가지로 fopen()으로 열어야 한다.

```php
$fp = fopen("list.txt", 'w');
```

써야할 경우 w 모드로 하여야 한다.

### 파일 쓰기

fopen()로 파일을 연 후 데이터를 쓰 수 있다.

PHP에서는 데이터를 쓰기 위해 fwrite() 와 fputs() 함수를 제공한다.

```php
$str = $name."\t".$gender."\t".$email."\n";
fwrite($fp, $str);
```